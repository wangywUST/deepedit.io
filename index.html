<!DOCTYPE html>
<html>

<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-DERZX1PWZ4"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-DERZX1PWZ4');
  </script>

  <meta charset="utf-8">
  <meta name="description" content="DeepEdit: Knowledge Editing as Decoding with Constraints">
  <meta name="keywords"
    content="Knowledge Editing, Constrained Decoding, Large Language Models, GPT">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DeepEdit: Knowledge Editing as Decoding with Constraints</title>

  <!-- Google Tag Manager -->
  <script>(function (w, d, s, l, i) {
      w[l] = w[l] || []; w[l].push({
        'gtm.start':
          new Date().getTime(), event: 'gtm.js'
      }); var f = d.getElementsByTagName(s)[0],
        j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
          'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-MFCT45H');</script>
  <!-- End Google Tag Manager -->

  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro" rel="stylesheet">

  <link rel="stylesheet" href="./static/css/bulma.min.css">
  <link rel="stylesheet" href="./static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="./static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="./static/css/fontawesome.all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="./static/css/index.css">
  <link rel="icon" href="./static/images/tifa.png">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script defer src="./static/js/fontawesome.all.min.js"></script>
  <script src="./static/js/bulma-carousel.min.js"></script>
  <script src="./static/js/bulma-slider.min.js"></script>
  <script src="./static/js/index.js"></script>
</head>

<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MFCT45H" height="0" width="0"
      style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->


  <!-- <nav class="navbar" role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
  </div>
  <div class="navbar-menu">
    <div class="navbar-start" style="flex-grow: 1; justify-content: center;">
      <a class="navbar-item" href="https://yushi-hu.github.io">
      <span class="icon">
          <i class="fas fa-home"></i>
      </span>
      </a>

      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link">
          More Research
        </a>
        <div class="navbar-dropdown">
          <a class="navbar-item" href="https://finegrainedrlhf.github.io/">
            Fine-Grained RLHF
          </a>
          <a class="navbar-item" href="https://yushi-hu.github.io/promptcap_demo/">
            PromptCap
          </a>
        </div>
      </div>
    </div>

  </div>
</nav> -->


  <section class="hero">
    <div class="hero-body">
      <div class="container is-max-desktop">
        <div class="columns is-centered">
          <div class="column has-text-centered">
            <h1 class="title is-1 publication-title">
              <span class="big-emoji">&#x270D;&#xFE0F;</span>
              DeepEdit: Knowledge Editing as Decoding with Constraints
            </h1>
            <div class="is-size-5">
              <span class="author-block">
                <a href="https://wangywust.github.io/" style="color:#008AD7;font-weight:normal;">Yiwei Wang</a><sup>1</sup>,
              </span>
              <span class="author-block">
                <a href="https://muhaochen.github.io/" style="color:#f68946;font-weight:normal;">Muhao Chen</a><sup>2</sup>,
              </span>
              <span class="author-block">
                <a href="https://vnpeng.net/" style="color:#008AD7;font-weight:normal;">Nanyun Peng</a><sup>1</sup>,
              </span>
              <span class="author-block">
                <a href="https://web.cs.ucla.edu/~kwchang/" style="color:#008AD7;font-weight:normal;">Kai-Wei Chang</a><sup>1</sup>,
              </span>
            </div>
  
            <br>
            <div class="is-size-5 publication-authors">
              <span class="author-block"><b style="color:#008AD7; font-weight:normal">â–¶ </b>University of California, Los Angeles</span>
              <span class="author-block"><b style="color:#f68946; font-weight:normal">â–¶ </b>University of California, Davis</span>
            </div>

            
              <div class="column has-text-centered">
                <div class="publication-links">
                  <!-- PDF Link. -->
                  <span class="link-block">
                    <a href="https://arxiv.org/abs/2401.10471" class="external-link button is-normal is-rounded is-dark">
                      <span class="icon">
                        <i class="fas fa-file-pdf"></i>
                      </span>
                      <span>Paper</span>
                    </a>
                  </span>

              <!-- code Link. -->
              <span class="link-block">
                <a href="https://github.com/wangywUST/DeepEdit" class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                    <i class="fab fa-github"></i>
                  </span>
                  <span>Code</span>
                </a>
              </span>
    
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

<section class="hero teaser">
  <div class="container is-max-desktop">
    <div class="hero-body">
      <h2 class="subtitle">
          <div class="content has-text-justified">
  We propose <b>DeepEdit</b> <img src="static/images/min-k_icon.png" alt="Min-K icon" style="width:25px; height:25px;">, a knowledge editing method that can be applied to all black-box large language models (LLMs) without retraining. 
  DeepEdit conducts knowledge editing by applying the semantic constraints to the decoding of LLMs. An example of the LLMs' text generation with our DeepEdit and the baseline method MeLLo is shown below.
</b>
      <center><img src="./static/images/frame.gif" alt="teaser"></center>


    Our progressive decoding method DeepEdit generates a reasoning step; searches the relevant updated knowledge; verifies the constraints; and then revises the reasoning at every iteration.
    We maintain a stack to control the text decoding with a depth-first search for effective knowledge editing.
      
      <center><img src="./static/images/fig_5.png" alt="teaser" width="50%"></center>
      
      </div>
    </div>
  </div>
</section>

<section class="section">
  <div class="container is-max-desktop">
    <!-- Abstract. -->
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Abstract</h2>
        <div class="content has-text-justified">
          <p>
            We develop a new perspective of knowledge editing for large language models (LLMs) as decoding with constraints. We propose DeepEdit <img src="static/images/min-k_icon.png" alt="Min-K Icon" style="width:25px; height:25px;"> (Depth-first Search based Progressive Decoding for Knowledge Editing), a neuro-symbolic method that improves knowledge editing with better coherence of reasoning, relevance to the question, and awareness of updated knowledge. DeepEdit can be flexibly applied to all black-box LLMs: it does not require any access to the model parameters, representations, or output vocabulary distributions. DeepEdit progressively produces the high-quality reasoning steps towards effective knowledge editing. It utilizes a depth-first search to revise the LLMs' output, which improves the output's informativeness to the input question and awareness of the updated knowledge. Qualitatively, DeepEdit effectively controls LLMs to produce more succinct reasoning in accord with knowledge editing. Quantitatively, DeepEdit yields significant gains on MQuaKE, a challenging multi-hop question-answering dataset with knowledge editing. We release the source code at <b><a href="https://github.com/wangywUST/DeepEdit"
                target="_blank">
                https://github.com/wangywUST/DeepEdit</a></b> <span>&#128220;</span>.
          </p>

        </div>
      </div>
    </div>
    <!--/ Abstract. -->
  </div>
</section>


<section class="section">
  <div class="container is-max-desktop">
    <!-- Abstract -->
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Designing Constraints for Better Knowledge Editing</h2>
        <div class="content has-text-justified">
          <p>
            <strong>The central idea of this paper is to view knowledge editing as a problem of decoding with constraints.</strong><br>
            We propose to impose semantic constraints on the LLMs' outputs to represent the desired properties that benefit knowledge editing.
            Specifically, we propose the following constraints: <strong>Uniqueness</strong> <span>&#128205;</span> ensures the advancements of every reasoning step; <strong>Coherence</strong> <span>&#128062;</span>  guarantees the coherence of adjacent steps; <strong>Awareness</strong> <span>&#128161;</span> guarantees the LLMs' awareness of updated knowledge; <strong>Relevance</strong> <span>&#128588;</span> improves the relevance of reasoning to the input question.
            Our idea is to directly control the LLMs' outputs to follow the above constraints, in order to improve the LLMs' reasoning with knowledge editing.   
        </p>

        <center><img src="./static/images/fig_10.png" alt="teaser" width="100%"></center>
          

<a href="https://arxiv.org/abs/2401.10471" target="_blank">See more details in our paper</a>
        </div>
      </div>
    </div>
    <!--/ Abstract -->
  </div>
</section>


<section class="section">
  <div class="container is-max-desktop">
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3" id="privacy-auditing">Progressive Decoding</h2>
        <div class="content has-text-justified">
          <p>
            To enforce language models' decoding to follow constraints, much research has proposed constrained decoding methods.
            However, classical constrained decoding methods usually require access to the token-wise probability distribution over the vocabulary, which is not provided by many black-box LLMs like ChatGPT.
            In our work, we propose <strong>progressive decoding</strong>, which verifies and modifies the LLMs' output in the decoding stage.
            We decode one reasoning step per iteration; verify it; and modify it in case to achieve effective knowledge editing.
            It bypasses the requirement of accessing the output vocabulary distributions, since all the verifications and modifications are made on the output text instead of the token-wise distributions. ðŸ‘‹  
          </p>
          <p>
            <img src="./static/images/fig_9.png"
              alt="Graph depicting the process of unlearning Harry Potter content">
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="section">
  <div class="container is-max-desktop">
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3" id="privacy-auditing">Local Verifier and Modifier</h2>
        <div class="content has-text-justified">
          <p>
            We store the candidates that satisfy the local verifier âš– in a stack for further use. 
            Instead of simply retaining only one candidate, we store all the candidates in the stack ðŸ“š, since we have the global verifier that has to verify the reasoning steps from the whole reasoning process.
            The correctness of a reasoning step has to be finally decided by the global verifier. 
          </p>
          <p>
            <img src="./static/images/fig_15.png"
              alt="Graph depicting the process of unlearning Harry Potter content">
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="section">
  <div class="container is-max-desktop">
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3" id="privacy-auditing">Global Verifier and Modifier</h2>
        <div class="content has-text-justified">
          <p>
            The global verifier âš– determines the feasibility of the whole reasoning process by checking whether the answer is found.
            If not feasible, we pop the status stack ðŸ“š to use another reasoning subprocess that satisfies the local verifier. 
          </p>
          <p>
            <img src="./static/images/fig_16.png"
              alt="Graph depicting the process of unlearning Harry Potter content">
          </p>
        </div>
      </div>
    </div>
  </div>
</section>




<section class="section">
  <div class="container is-max-desktop">
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <!-- <h2 class="title is-3" id="copyrighted-detection">Copyrighted Book Detection</h2> -->
        <h2 class="title is-3" id="copyrighted-detection">Performance of Knowledge Editing</h2>
        <div class="content has-text-justified">

        <!-- <title>Top 20 Copyrighted Books in GPT-3's (text-davinci-003) Pretraining Data detected by Min-K% Prob</title> -->
        <style>
          table {
            width: 100%;
            border-collapse: collapse;
          }

          table,
          th,
          td {
            border: 1px solid black;
          }

          th,
          td {
            padding: 8px;
            text-align: left;
          }

          th {
            background-color: #f2f2f2;
          }
        </style>
      </head>

      <body>

        <table>
          <caption><b style="color: red;">Experimental results (accuracy; %) on the dataset MQuAKE. </caption>
          <thead>
            <tr>
              <th>Method</th>
              <th>MQuAKE</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>text-davinci-003 w/ MeLLo </td>
              <td>43.6</td>
            </tr>
            <tr>
              <td>text-davinci-003 w/ <strong>DEEPEDIT (Ours)</strong></td>
              <td><strong>62.1</strong></td>
            </tr>
            <tr>
              <td>gpt-3.5-turbo-instruct w/ MeLLo </td>
              <td>35.8</td>
            </tr>
            <tr>
              <td>gpt-3.5-turbo-instruct w/ <strong>DEEPEDIT (Ours)</strong></td>
              <td><strong>61.0</strong></td>
            </tr>
          </tbody>
        </table>

      </body>

      </html>

    </div>
  </div>
</section>


      <section class="section is-light" id="BibTeX">
        <div class="container is-max-desktop content">
          <h2 class="title">BibTeX</h2>
          <pre><code>
@misc{wang2024deepedit,
title={DeepEdit: Knowledge Editing as Decoding with Constraints},
author={Yiwei Wang and Muhao Chen and Nanyun Peng and Kai-Wei Chang},
year={2024},
eprint={2401.10471},
archivePrefix={arXiv},
primaryClass={cs.CL}
}
</code></pre>
        </div>
      </section>



      <footer class="footer">
        <div class="container">
          <div class="columns is-centered">
            <div class="column is-8">
              <div class="content">
                <p>
                  This website is licensed under a <a rel="license"
                    href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
                    Commons Attribution-ShareAlike 4.0 International License</a>.
                </p>
                <p>
                  This means you are free to borrow the <a href="https://github.com/nerfies/nerfies.github.io">source
                    code</a> of this website,
                  we just ask that you link back to this page in the footer.
                  Please remember to remove the analytics code included in the header of the website which
                  you do not want on your website.
                </p>
              </div>
            </div>
          </div>
        </div>
      </footer>

</body>

</html>
